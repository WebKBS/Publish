@{
    ViewData["title"] = "MY INFO";
}


<section class="cont1 profile">
    <div class="inner">
        <h2 class="subtitle_3 suit_m">MY INFO</h2>
        <div class="info_wrap">
            <div class="user_email">
                <div class="text_wrap">
                    <p class="title body_2 suit_m color_white_2">ID(Email)</p>
                    <p class="info body_2 suit_r">airdropper@airdropper.com</p>
                </div>
                <a href="/Edit/Email" class="change_btn button_112">Change</a>
            </div>
            <div class="join_date">
                <div class="text_wrap">
                    <p class="title body_2 suit_m color_white_2">Registration date</p>
                    <p class="info body_2 suit_r">October 10, 2022</p>
                </div>
            </div>
            <div class="referral_code">
                <div class="text_wrap">
                    <p class="title body_2 suit_m color_white_2">Referral Code</p>
                    <p class="info body_2 suit_r">AD12403</p>
                </div>
                <a href="#" class="button_112 active" id="create_link">Create Link</a>
            </div>
        </div>
        <div class="user_pw">
            <div class="text_wrap">
                <p class="title body_2 suit_m color_white_2">Password</p>
            </div>
            <a href="/Edit/EditPw" class="change_btn button_112">Change</a>
        </div>
        <div class="history">
            <div>
                <div class="text_wrap">
                    <p class="title body_2 suit_m color_white_2">Usage history management</p>
                </div>
                <a href="/MyInfo/UsageHistory" class="change_btn button_112">View</a>
            </div>
            <div>
                <div class="text_wrap">
                    <p class="title body_2 suit_m color_white_2">Referral Management</p>
                </div>
                <a href="/Referral/Referral" class="change_btn button_112">View</a>
            </div>
        </div>
        <a href="/MyInfo/WithdrawalComp" class="button_160">WITHDRAWAL</a>
    </div>
</section>







@section Modals{
    <div class="modal referral_modal">
        <div class="inner">
            <h4 class="color_theme h4 jost_m">Referral Code</h4>
            <p class="sub_title body_1 suit_r">Your referral code has been generated.</p><!-- 생성후 텍스트 변경  You can benefit from using referral codes. -->
            <div class="input_wrap">
                <input class="color_theme" type="text" id="copy_input" readonly value="https://airdropper.net/referral/AD12403" />
                <button type="button" class="copy_btn" id="copy_btn">Copy<i class="copy_text">Copied!</i></button>
            </div>
            <button type="button" class="button_180" data-modal-close>CONFIRM</button>
        </div>
    </div>




}

<script>
    window.addEventListener('DOMContentLoaded', () => {

        // 복사 하기 이벤트
        const copy = document.getElementById('copy_btn');
        const inputValue = document.getElementById('copy_input').value;
        console.log(inputValue)

        copy.addEventListener('click', () => {
            window.navigator.clipboard.writeText(inputValue).then(() => {
                copy.querySelector('.copy_text').classList.add('on');
                setTimeout(() => {
                    copy.querySelector('.copy_text').classList.remove('on')
                }, 700);
            })
        })
    })


    const createBtn = document.getElementById('create_link');
    createBtn.addEventListener('click', () => {
        document.querySelector('.referral_modal').classList.add('on');

        // 링크가 만들어졌을때 텍스트 변경
        createBtn.textContent = "View Link";
    })
</script>


@section Heads{
    <link rel="stylesheet" href="~/css/pages/Profile.css" />

}